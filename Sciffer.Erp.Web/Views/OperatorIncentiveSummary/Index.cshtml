
@model Sciffer.Erp.Domain.ViewModel.operator_incentive_summary_vm

@{
    ViewBag.Title = "Create";
}



@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal" style="margin-top:10px;">
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <div class="form-group">
            <div class="row">

                <div class="col-lg-4 col-sm-4">
                    <div class="form-group">
                        <h4 class="col-md-4 col-sm-4 col-xs-12">Start Date*</h4>
                        <div class="col-md-8 col-sm-8 col-xs-12">
                            @Html.EditorFor(model => model.from_date, new { htmlAttributes = new { @class = "form-control date12  validinput", @required = true } })
                            @Html.ValidationMessageFor(model => model.from_date, "", new { @class = "text-danger" })
                        </div>
                    </div>
                </div>

                <div class="col-lg-4 col-sm-4">
                    <div class="form-group">
                        <h4 class="col-md-4 col-sm-4 col-xs-12">End Date*</h4>
                        <div class="col-md-8 col-sm-8 col-xs-12">
                            @Html.EditorFor(model => model.to_date, new { htmlAttributes = new { @class = "form-control date12  validinput", @required = true } })
                            @Html.ValidationMessageFor(model => model.to_date, "", new { @class = "text-danger" })
                        </div>
                    </div>
                </div>

                <div class="col-lg-4 col-sm-4">

                    <div class="col-md-7 col-lg-7 col-xs-12">
                        <button class="searchbutton" type="button" id="search" onclick="search1();"> Run Report </button>
                    </div>
                </div>
            </div>

            <br />
            <br />

            <div class="row">
                <div class="table-responsive">
                    <table class="table table-responsive table-bordered table-striped jambo_table results3 taskgrid">
                        <thead>
                            <tr>
                                <th>Sr. No.</th>
                                @*<th><label>User Name</label></th>*@
                                <th>Date</th>
                                <th>Shift</th>
                                @*<th><label>Incentive Applicable</label></th>*@
                                <th>Incentive Amount</th>
                                <th>Status</th>
                                @*<th><label>Action</label></th>*@
                            </tr>
                        </thead>
                        <tbody id="TaskGrid"></tbody>
                    </table>
                </div>
            </div>


        </div>
    </div>
}



@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script type="text/javascript">
        document.getElementById('from_date').valueAsDate = new Date();
        document.getElementById('to_date').valueAsDate = new Date();
        var from_date = $("#from_date").val();
        var to_date = $("#to_date").val();

        function search1() {

            $.ajax({
                url: "@Url.Action("GetOperatorIncentiveSummary", "OperatorIncentiveSummary")",
                method: "POST",
                cache: false,
                data: { from_date: $("#from_date").val(), to_date: $("#to_date").val(), user_id: 0 },
                success: function (data) {

                   

                       $("#TaskGrid").empty();

                       var count = 0;
                       for (var i = 0; i < data.length; i++) {
                           count++;
                           $("#TaskGrid").append(
                               '<tr>' +
                                   '<td>' +
                                       count +
                                   '</td>' +

                                     '<td>' +
                                        data[i].date +
                                   '</td>' +

                                   '<td>' +
                                        data[i].shift_code +
                                   '</td>' +

                                    '<td align="right">' +
                                       parseFloat(data[i].incentive_amt).toFixed(2) +
                                   '</td>' +

                                   '<td>' +
                                       data[i].status_name +
                                   '</td>' +
                               '</tr>')

                       }

                 

                }
            })


        };
    </script>
}
<style>
    .taskgrid > thead {
        text-align: center;
        font-size: 20px;
    }

    .taskgrid {
        font-size: 25px;
    }

    #sidebar-menu {
        display: none;
    }

    .dataTables_filter > label {
        font-weight: bold !important;
        font-size: 20px !important;
    }

        .dataTables_filter > label > input {
            width: 75%;
        }

    .input_box_font {
        font-size: 30px !important;
        width: 100px !important;
    }
</style>