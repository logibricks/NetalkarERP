<style>
    .results1 tr[visible='false'],
    .no-result {
        display: none;
    }

    .results1 tr[visible='true'] {
        display: table-row;
    }

    .oknotok {
        width: 30%;
        padding: 5px;
    }
</style>
<div class="scrollit">
    <div class="table-responsive">
        <div class="row">
            <div class="col-md-6">

            </div>
            <div class="col-md-4">
                <input type="search" id="search1" class="SearchBar search form-control" placeholder="Search for item here....">
            </div>
        </div>
        <br />
        <span class="pending_status">Pending :  @ViewBag.UnderQc.Count</span>
        <table class="table table-responsive table-bordered table-striped jambo_table results1 taskgrid" id="resultUnderQc">
            <thead>
                <tr class="e-textwrapper">
                    <th hidden>Machine Task Qc Id</th>
                    <th hidden>Machine Task Qc No</th>
                    <th hidden>Machine Task Id</th>
                    <th hidden>Prod Order Id</th>
                    <th> Production Order No. </th>
                    <th hidden> Prod Order Detail Id </th>
                    <th hidden>Item Id </th>
                    <th>Item Name</th>
                    <th hidden>Batch Id</th>
                    <th>Batch Number</th>
                    <th hidden>Tag Id </th>
                    <th>Tag No.</th>
                    <th> Select Status </th>
                    <th hidden>Status Id</th>
                    <th>Status</th>
                    <th hidden>Machine Id</th>
                    <th>Machine Name </th>
                </tr>
            </thead>

            <tbody class="scrollit">
                @{
                    int count = 0;
                    foreach (var item in ViewBag.UnderQc)
                    {
                        if (item.mfg_qc_reason_id == 5 || item.mfg_qc_reason_id == 4)
                        {
                            <tr>
                                <td hidden>@item.machine_task_qc_qc_id</td>
                                <td hidden>@item.machine_task_qc_qc_no</td>
                                <td hidden>@item.machine_task_id</td>
                                <td hidden>@item.prod_order_id</td>
                                <td style="color:yellow">@item.prod_order_no</td>
                                <td hidden>@item.prod_order_detail_id</td>
                                <td hidden>@item.in_item_id</td>
                                <td style="color:yellow">@item.in_item_desc</td>
                                <td hidden>@item.item_batch_id</td>
                                <td style="color:yellow">@item.item_batch_no</td>
                                <td hidden>@item.tag_id</td>
                                <td style="color:yellow">@item.tag_no</td>
                                <td>
                                    <button id="statusok-@count" class="oknotok btn btn-lg btn-success glyphicon glyphicon-ok-circle" onclick="UpdateStatus(this)" value="5:@item.machine_task_qc_qc_id:@item.in_item_id:@item.machine_id"></button>
                                    <span>&nbsp;&nbsp;</span>
                                    <button id="statusnok-@count" class="oknotok btn btn-lg btn-danger glyphicon glyphicon-remove-circle" onclick="UpdateStatus(this)" value="6:@item.machine_task_qc_qc_id:@item.in_item_id:@item.machine_id"></button>
                                    @*<select class="task_status form-control" id="status-@count" onchange="UpdateStatus(this)">
                                            <option value="0">--Select--</option>
                                            @foreach (var xx in ViewBag.AllStatus)
                                            {
                                                <option value="@xx.machine_task_status_id:@item.machine_task_qc_qc_id">@xx.machine_task_status_name</option>
                                            }
                                        </select>*@
                                </td>
                                <td hidden>@item.current_status_id</td>
                                <td style="color:yellow">@item.current_status</td>
                                <td hidden>@item.machine_id</td>
                                <td style="color:yellow">@item.machine_desc</td>
                            </tr>
                        }
                        else
                        {

                            <tr>
                                <td hidden>@item.machine_task_qc_qc_id</td>
                                <td hidden>@item.machine_task_qc_qc_no</td>
                                <td hidden>@item.machine_task_id</td>
                                <td hidden>@item.prod_order_id</td>
                                <td>@item.prod_order_no</td>
                                <td hidden>@item.prod_order_detail_id</td>
                                <td hidden>@item.in_item_id</td>
                                <td>@item.in_item_desc</td>
                                <td hidden>@item.item_batch_id</td>
                                <td>@item.item_batch_no</td>
                                <td hidden>@item.tag_id</td>
                                <td>@item.tag_no</td>
                                <td>
                                    <button id="statusok-@count" class="oknotok btn btn-lg btn-success glyphicon glyphicon-ok-circle" onclick="UpdateStatus(this)" value="5:@item.machine_task_qc_qc_id:@item.in_item_id:@item.machine_id"></button>
                                    <span>&nbsp;&nbsp;</span>
                                    <button id="statusnok-@count" class="oknotok btn btn-lg btn-danger glyphicon glyphicon-remove-circle" onclick="UpdateStatus(this)" value="6:@item.machine_task_qc_qc_id:@item.in_item_id:@item.machine_id"></button>
                                    @*<select class="task_status form-control" id="status-@count" onchange="UpdateStatus(this)">
                                            <option value="0">--Select--</option>
                                            @foreach (var xx in ViewBag.AllStatus)
                                            {
                                                <option value="@xx.machine_task_status_id:@item.machine_task_qc_qc_id">@xx.machine_task_status_name</option>
                                            }
                                        </select>*@
                                </td>
                                <td hidden>@item.current_status_id</td>
                                <td>@item.current_status</td>
                                <td hidden>@item.machine_id</td>
                                <td>@item.machine_desc</td>
                            </tr>
                        }

                        count++;
                    }
                }
            </tbody>
        </table>
    </div>
</div>

<script>

    $(document).ready(function () {

        //$(".task_status").children("option[value^=" + 1 + "]").hide();
        //$(".task_status").children("option[value^=" + 2 + "]").hide();
        //$(".task_status").children("option[value^=" + 3 + "]").hide();
        //$(".task_status").children("option[value^=" + 4 + "]").hide();
        //$(".task_status").children("option[value^=" + 7 + "]").hide();

        $("#search1").keyup(function () {
            var searchTerm = $("#search1").val();
            var listItem = $('.results1 tbody').children('tr');
            var searchSplit = searchTerm.replace(/ /g, "'):containsi('")

            $.extend($.expr[':'], {
                'containsi': function (elem, i, match, array) {
                    return (elem.textContent || elem.innerText || '').toLowerCase().indexOf((match[3] || "").toLowerCase()) >= 0;
                }
            });

            $(".results1 tbody tr").not(":containsi('" + searchSplit + "')").each(function (e) {
                $(this).attr('visible', 'false');
            });

            $(".results1 tbody tr:containsi('" + searchSplit + "')").each(function (e) {
                $(this).attr('visible', 'true');
            });

            var jobCount = $('.results1 tbody tr[visible="true"]').length;
            $('.counter').text(jobCount + ' item');

            if (jobCount == '0') { $('.no-result').show(); }
            else { $('.no-result').hide(); }
        });

    });

    // -----------FOCUS ON SELECT LIST-----------------------//
    $("#search1").focus(function () {
        $("#isPaused").val(1);
    })
    $("#search1").focusout(function () {
        $("#isPaused").val(0);
    })

    // -----------FOCUS ON SELECT LIST-----------------------//




</script>

